# Wenn der Spieler ein Zeichen angeklickt hat, wird die Klick-Funktion gestartet
execute if entity @p[scores={PZZeiEin.1Taste=1..}] as @e[type=minecraft:area_effect_cloud,tag=EtiZeiEin.1Zeichen,sort=nearest,limit=1] run function zeichen-eingabe:v1klick

# Von der Position der Partikelwolke erhalten alle Spieler in einem Umkreis von 25 Metern, sofern sie etwas zuvor eingetippt hatten, die Chat-Eingabe angezeigt. Dort wird dem Spieler eine Tastatur angezeigt, wo er jeden einzelnen Buchstaben und andere Zeichen antippen kann.
execute at @e[type=minecraft:area_effect_cloud,tag=EtiZeiEin.1Zeichen,sort=nearest,limit=1] as @a[distance=..25] unless entity @s[scores={PZZeiEin.1Taste=0}] run tellraw @s ["Zeichen-Eingabe.1:\n",{"text":"Q","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\"Q\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 81"} },{"text":" W","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\"W\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 87"} },{"text":" E","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\"E\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 69"} },{"text":" R","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\"R\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 82"} },{"text":" T","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\"T\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 84"} },{"text":" Z","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\"Z\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 90"} },{"text":" U","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\"U\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 85"} },{"text":" I","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\"I\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 73"} },{"text":" O","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\"O\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 79"} },{"text":" P","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\"P\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 80"} },{"text":" Ü","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\"Ü\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 220"} },{"text":"\nA","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\"A\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 65"} },{"text":" S","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\"S\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 83"} },{"text":" D","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\"D\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 68"} },{"text":" F","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\"F\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 70"} },{"text":" G","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\"G\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 71"} },{"text":" H","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\"H\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 72"} },{"text":" J","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\"J\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 74"} },{"text":" K","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\"K\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 75"} },{"text":" L","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\"L\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 76"} },{"text":" Ö","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\"Ö\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 214"} },{"text":" Ä","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\"Ä\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 196"} },{"text":"\nY","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\"Y\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 89"} },{"text":" X","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\"X\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 88"} },{"text":" C","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\"C\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 67"} },{"text":" V","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\"V\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 86"} },{"text":" B","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\"B\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 66"} },{"text":" N","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\"N\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 78"} },{"text":" M","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\"M\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 77"} },{"text":" ,","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\",\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 44"} },{"text":" .","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\".\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 46"} },{"text":" -","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\"-\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 45"} },{"text":" _","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"\"_\""} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 95"} },{"text":"\n<Eingabe Löschen>","color":"red","bold":true,"hoverEvent":{"action":"show_text","value":{"text":"Tippe um eine neue Zeichenkette einzugeben"} },"clickEvent":{"action":"run_command","value":"/trigger PZZeiEin.1Taste set 1"} },{"text":"\nzeichenkette == \"","bold":true},{"block":"~ ~ ~","nbt":"Text1","interpret":true},{"text":"\"","bold":true}]

# Wenn der Spieler etwas angetippt hat, erhält er erneut die Möglichkeit den Auslöser wieder zu aktivieren und der Wert wird auf null gesetzt.
execute as @a[distance=..25] unless entity @s[scores={PZZeiEin.1Taste=0}] run scoreboard players enable @s PZZeiEin.1Taste
execute as @a[distance=..25] unless entity @s[scores={PZZeiEin.1Taste=0}] run scoreboard players set @s PZZeiEin.1Taste 0
