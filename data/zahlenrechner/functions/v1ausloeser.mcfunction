
execute if entity @s[tag=EtiZahlR.1Zahl,scores={PZZahlR.1Wert=1..5}] run data modify storage zahlenrechner:v1daten "EigZahlR.1Term" append value {EigZahlR.1Operand:0,EigZahlR.1Operator:{EigZahlR.1Zeichen:'{"text":"+","color":"blue","bold":true}'} }

execute if entity @s[scores={PZZahlR.1Wert=2}] run data modify storage zahlenrechner:v1daten "EigZahlR.1Term"[-1]."EigZahlR.1Operator"."EigZahlR.1Zeichen" set value '{"text":"-","color":"blue","bold":true}'
execute if entity @s[scores={PZZahlR.1Wert=3}] run data modify storage zahlenrechner:v1daten "EigZahlR.1Term"[-1]."EigZahlR.1Operator"."EigZahlR.1Zeichen" set value '{"text":"*","color":"blue","bold":true}'
execute if entity @s[scores={PZZahlR.1Wert=4}] run data modify storage zahlenrechner:v1daten "EigZahlR.1Term"[-1]."EigZahlR.1Operator"."EigZahlR.1Zeichen" set value '{"text":"/","color":"blue","bold":true}'
execute if entity @s[scores={PZZahlR.1Wert=5}] run data modify storage zahlenrechner:v1daten "EigZahlR.1Term"[-1]."EigZahlR.1Operator"."EigZahlR.1Zeichen" set value '{"text":"%","color":"blue","bold":true}'

tag @s[tag=EtiZahlR.1Zahl,scores={PZZahlR.1Wert=1..5}] remove EtiZahlR.1Zahl

execute if entity @s[scores={PZZahlR.1Wert=-1..19}] unless entity @s[scores={PZZahlR.1Wert=0..9}] run tag @s add EtiZahlR.1Zahl

execute if entity @s[scores={PZZahlR.1Wert=-1..19}] unless entity @s[scores={PZZahlR.1Wert=0..9}] store result score VarZahlR.1Zahl PZZahlR.1Wert run data get storage zahlenrechner:v1daten "EigZahlR.1Term"[-1]."EigZahlR.1Operand"
execute if entity @s[scores={PZZahlR.1Wert=-1}] store result storage zahlenrechner:v1daten "EigZahlR.1Term"[-1]."EigZahlR.1Operand" int 1 run scoreboard players operation VarZahlR.1Zahl PZZahlR.1Wert /= KonstZahlR.1ZEHN PZZahlR.1Wert

execute if entity @s[scores={PZZahlR.1Wert=-2}] run data merge storage zahlenrechner:v1daten {EigZahlR.1Term:[{EigZahlR.1Operand:0}]}
execute if entity @s[scores={PZZahlR.1Wert=-2}] run scoreboard players set VarZahlR.1Ergebnis PZZahlR.1Wert 0

tag @s[scores={PZZahlR.1Wert=10..19}] add EtiZahlR.1NullBisNeun
execute if entity @s[tag=EtiZahlR.1NullBisNeun] store result score VarZahlR.1Ziffer PZZahlR.1Wert run scoreboard players remove @s PZZahlR.1Wert 10
execute if entity @s[tag=EtiZahlR.1NullBisNeun] run scoreboard players operation VarZahlR.1Zahl PZZahlR.1Wert *= KonstZahlR.1ZEHN PZZahlR.1Wert
execute if entity @s[tag=EtiZahlR.1NullBisNeun] store result storage zahlenrechner:v1daten "EigZahlR.1Term"[-1]."EigZahlR.1Operand" int 1 run scoreboard players operation VarZahlR.1Zahl PZZahlR.1Wert += VarZahlR.1Ziffer PZZahlR.1Wert
tag @s[tag=EtiZahlR.1NullBisNeun] remove EtiZahlR.1NullBisNeun

execute if entity @s[scores={PZZahlR.1Wert=-3}] run function zahlenrechner:v1rechnen

tellraw @s ["Zahlenrechner.1: ",{"text":"\nergebnis == ","color":"gray","bold":true},{"score":{"name":"VarZahlR.1Ergebnis","objective":"PZZahlR.1Wert"},"color":"dark_purple","bold":true},{"text":"\noperanden == [","color":"gray","bold":true},{"storage":"zahlenrechner:v1daten","nbt":"\"EigZahlR.1Term\"[].\"EigZahlR.1Operand\"","color":"dark_purple","bold":true,"interpret":true},{"text":"]","color":"gray","bold":true},{"text":"\noperatoren == [","color":"gray","underlined":true,"bold":true},{"storage":"zahlenrechner:v1daten","nbt":"\"EigZahlR.1Term\"[].\"EigZahlR.1Operator\".\"EigZahlR.1Zeichen\"","color":"blue","bold":true,"interpret":true},{"text":"]","color":"gray","bold":true},{"text":"\n[ 7 ] ","color":"gray","underlined":true,"bold":true,"hoverEvent":{"action":"show_text","value":{"text":"Tippe für 7"} },"clickEvent":{"action":"run_command","value":"/trigger PZZahlR.1Wert set 17"} },{"text":"[ 8 ] ","color":"gray","underlined":true,"bold":true,"hoverEvent":{"action":"show_text","value":{"text":"Tippe für 8"} },"clickEvent":{"action":"run_command","value":"/trigger PZZahlR.1Wert set 18"} },{"text":"[ 9 ] ","color":"gray","underlined":true,"bold":true,"hoverEvent":{"action":"show_text","value":{"text":"Tippe für 9"} },"clickEvent":{"action":"run_command","value":"/trigger PZZahlR.1Wert set 19"} },{"text":"\n[ 4 ] ","color":"gray","underlined":true,"bold":true,"hoverEvent":{"action":"show_text","value":{"text":"Tippe für 4"} },"clickEvent":{"action":"run_command","value":"/trigger PZZahlR.1Wert set 14"} },{"text":"[ 5 ] ","color":"gray","underlined":true,"bold":true,"hoverEvent":{"action":"show_text","value":{"text":"Tippe für 5"} },"clickEvent":{"action":"run_command","value":"/trigger PZZahlR.1Wert set 15"} },{"text":"[ 6 ] ","color":"gray","underlined":true,"bold":true,"hoverEvent":{"action":"show_text","value":{"text":"Tippe für 6"} },"clickEvent":{"action":"run_command","value":"/trigger PZZahlR.1Wert set 16"} },{"text":"\n[ 1 ] ","color":"gray","underlined":true,"bold":true,"hoverEvent":{"action":"show_text","value":{"text":"Tippe für 1"} },"clickEvent":{"action":"run_command","value":"/trigger PZZahlR.1Wert set 11"} },{"text":"[ 2 ] ","color":"gray","underlined":true,"bold":true,"hoverEvent":{"action":"show_text","value":{"text":"Tippe für 2"} },"clickEvent":{"action":"run_command","value":"/trigger PZZahlR.1Wert set 12"} },{"text":"[ 3 ] ","color":"gray","underlined":true,"bold":true,"hoverEvent":{"action":"show_text","value":{"text":"Tippe für 3"} },"clickEvent":{"action":"run_command","value":"/trigger PZZahlR.1Wert set 13"} },{"text":"\n[<x!] ","color":"red","underlined":true,"bold":true,"hoverEvent":{"action":"show_text","value":{"text":"Tippe für Ziffer entfernen"} },"clickEvent":{"action":"run_command","value":"/trigger PZZahlR.1Wert set -1"} },{"text":"[ 0 ] ","color":"gray","underlined":true,"bold":true,"hoverEvent":{"action":"show_text","value":{"text":"Tippe für 0"} },"clickEvent":{"action":"run_command","value":"/trigger PZZahlR.1Wert set 10"} },{"text":"[ = ] ","color":"green","underlined":true,"bold":true,"hoverEvent":{"action":"show_text","value":{"text":"Tippe für Ergebnis"} },"clickEvent":{"action":"run_command","value":"/trigger PZZahlR.1Wert set -3"} },{"text":"\n[ + ] ","color":"blue","underlined":true,"bold":true,"hoverEvent":{"action":"show_text","value":{"text":"Tippe für Plus"} },"clickEvent":{"action":"run_command","value":"/trigger PZZahlR.1Wert set 1"} },{"text":"[ - ] ","color":"blue","underlined":true,"bold":true,"hoverEvent":{"action":"show_text","value":{"text":"Tippe für Minus"} },"clickEvent":{"action":"run_command","value":"/trigger PZZahlR.1Wert set 2"} },{"text":"[ * ] ","color":"blue","underlined":true,"bold":true,"hoverEvent":{"action":"show_text","value":{"text":"Tippe für Mal"} },"clickEvent":{"action":"run_command","value":"/trigger PZZahlR.1Wert set 3"} },{"text":"\n[ / ] ","color":"blue","underlined":true,"bold":true,"hoverEvent":{"action":"show_text","value":{"text":"Tippe für Geteilt"} },"clickEvent":{"action":"run_command","value":"/trigger PZZahlR.1Wert set 4"} },{"text":"[ % ] ","color":"blue","underlined":true,"bold":true,"hoverEvent":{"action":"show_text","value":{"text":"Tippe für Modulo"} },"clickEvent":{"action":"run_command","value":"/trigger PZZahlR.1Wert set 5"} },{"text":"[Ent] ","color":"red","underlined":true,"bold":true,"hoverEvent":{"action":"show_text","value":{"text":"Tippe für Entfernen"} },"clickEvent":{"action":"run_command","value":"/trigger PZZahlR.1Wert set -2"} } ]

scoreboard players enable @s PZZahlR.1Wert
scoreboard players set @s PZZahlR.1Wert 0
